# Production-specific configuration
# This file overrides settings in application.properties when spring.profiles.active=production

# Production-specific overrides
# MongoDB - Force Atlas connection in production
spring.data.mongodb.uri=${MONGODB_URI}

# Logging
logging.level.org.springframework.data.mongodb=INFO
logging.level.com.mongodb=INFO
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=INFO

# SMS Configuration - Use real SMS in production
sms.testing.mode=false

# File Upload Configuration - Larger limits for production
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=11MB

# Security Headers
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=strict

# JVM Options for Railway
server.port=${PORT:8080}
server.address=0.0.0.0
spring.jpa.show-sql=false

# Actuator Configuration - Minimal health checks for Railway
management.endpoint.health.show-details=never
management.endpoints.web.exposure.include=health,info
management.health.defaults.enabled=false
management.health.mongo.enabled=false
management.health.diskspace.enabled=false
management.health.ping.enabled=true
management.endpoint.health.group.readiness.include=ping
management.endpoint.health.group.readiness.show-details=always

# Connection pool optimization for production
# MongoDB URI is configured via environment variable with connection pool settings included
# JVM optimization flags (set via JAVA_OPTS environment variable)
# JAVA_OPTS=-Xmx512m -Xms256m -XX:+UseG1GC -XX:MaxGCPauseMillis=200
